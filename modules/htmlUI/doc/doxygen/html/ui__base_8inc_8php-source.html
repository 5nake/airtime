<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>LiveSupport&amp;nbsp;-&amp;nbsp;htmlUI&amp;nbsp;module: ui_base.inc.php Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">var</a></div>
<h1>ui_base.inc.php</h1><a href="ui__base_8inc_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 &lt;?php
<a name="l00002"></a><a class="code" href="ui__base_8inc_8php.html#a0">00002</a> function <a class="code" href="ui__base_8inc_8php.html#a0">errCallBack</a>($err)
00003 {
00004     echo <span class="stringliteral">"&lt;pre&gt;gm:\n"</span>.$err-&gt;getMessage().<span class="stringliteral">"\ndi:\n"</span>.$err-&gt;getDebugInfo().<span class="stringliteral">"\nui:\n"</span>.$err-&gt;getUserInfo().<span class="stringliteral">"\n"</span>;
00005     echo <span class="stringliteral">"&lt;hr&gt;BackTrace:\n"</span>;
00006     print_r($err-&gt;backtrace);
00007     echo <span class="stringliteral">"&lt;/pre&gt;\n"</span>;
00008     exit;
00009 }
00010 
<a name="l00017"></a><a class="code" href="classuiBase.html">00017</a> <span class="keyword">class </span><a class="code" href="classuiBase.html">uiBase</a>
00018 {
00019     <span class="comment">// --- basic funtionality ---</span>
<a name="l00028"></a><a class="code" href="classuiBase.html#a0">00028</a> <span class="comment"></span>    function <a class="code" href="classuiBase.html#a0">tra</a>($input)
00029     {
00030         <span class="comment">// just a dummy function yet</span>
00031 
00032         <span class="keywordflow">return</span> $input;
00033     }
00034 
00035 
<a name="l00045"></a><a class="code" href="classuiBase.html#a1">00045</a>     function <a class="code" href="classuiBase.html#a1">_parseArr2Form</a>(&amp;$form, &amp;$mask, $side='client')
00046     {
00047         foreach($mask as $k=&gt;$v) {
00048 <span class="preprocessor">            ## add elements ########################</span>
00049 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ($v['type']=='radio') {
00050                 foreach($v['options'] as $rk=&gt;$rv) {
00051                     $radio[] =&amp; $form-&gt;createElement($v['type'], NULL, NULL, $rv, $rk);
00052                 }
00053                 $form-&gt;addGroup($radio, $v['element'], $this-&gt;tra($v['label']));
00054                 unset($radio);
00055 
00056             } elseif (isset($v['type'])) {
00057                 $elem[$v['element']] =&amp; $form-&gt;createElement($v['type'], $v['element'], $this-&gt;tra($v['label']), ($v['attributes']?$v['attributes']:(($v[type]=='text'||$v['type']=='file')?array('size'=&gt;<a class="code" href="conf_8php.html#a4">UI_INPUT_STANDARD_SIZE</a>, 'maxlength'=&gt;<a class="code" href="conf_8php.html#a5">UI_INPUT_STANDARD_MAXLENGTH</a>):NULL)));
00058                 <span class="keywordflow">if</span>($v['type']=='select') {
00059                     $elem[$v['element']]-&gt;loadArray($v['options']);
00060                     $elem[$v['element']]-&gt;setMultiple($v['multiple']);
00061                 };
00062                 <span class="keywordflow">if</span> (!$v['groupit']) $form-&gt;addElement($elem[$v['element']]);
00063             }
00064 <span class="preprocessor">            ## add required rule ###################</span>
00065 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ($v['required']) {
00066                 $form-&gt;addRule($v['element'], ($v['errormsg']?$this-&gt;tra($v['errormsg']):$this-&gt;<a class="code" href="classuiBase.html#a0">tra</a>('please enter value <span class="keywordflow">for</span>').<span class="charliteral">' '</span>.$this-&gt;<a class="code" href="classuiBase.html#a0">tra</a>($v['label'])), 'required', NULL, $side);
00067             }
00068 <span class="preprocessor">            ## add constant value ##################</span>
00069 <span class="preprocessor"></span>            <span class="keywordflow">if</span> (isset($v['constant'])) {
00070                 $form-&gt;setConstants(array($v['element']=&gt;$v['constant']));
00071             }
00072 <span class="preprocessor">            ## add default value ###################</span>
00073 <span class="preprocessor"></span>            <span class="keywordflow">if</span> (isset($v['<span class="keywordflow">default</span>'])) {
00074                 $form-&gt;setDefaults(array($v['element']=&gt;$v['<span class="keywordflow">default</span>']));
00075             }
00076 <span class="preprocessor">            ## add other rules #####################</span>
00077 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ($v['rule']) {
00078                 $form-&gt;addRule($v['element'], $this-&gt;tra($v['errormsg']), $v['rule'] , NULL, $side);
00079             }
00080 <span class="preprocessor">            ## add group ###########################</span>
00081 <span class="preprocessor"></span>            <span class="keywordflow">if</span> (is_array($v['group'])) {
00082                 foreach($v['group'] as $val) {
00083                     $groupthose[] =&amp; $elem[$val];
00084                 }
00085                 $form-&gt;addGroup($groupthose, $v['name'], $this-&gt;tra($v['label']), $v['seperator'], $v['appendName']);
00086                 unset($groupthose);
00087             }
00088 <span class="preprocessor">            ## check error on type file ##########</span>
00089 <span class="preprocessor"></span>            <span class="keywordflow">if</span> ($v['type']=='file') {
00090                 <span class="keywordflow">if</span> ($_POST[$v['element']]['error']) {
00091                     $form-&gt;setElementError($v['element'], ($v['errormsg']?$this-&gt;tra($v['errormsg']):$this-&gt;<a class="code" href="classuiBase.html#a0">tra</a>('please enter value <span class="keywordflow">for</span>').<span class="charliteral">' '</span>.$this-&gt;<a class="code" href="classuiBase.html#a0">tra</a>($v['label'])));
00092                 }
00093             }
00094         }
00095 
00096         reset($mask);
00097 
00098         $form-&gt;validate();
00099     }
00100 }
00101 ?&gt;
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jan 12 16:22:49 2005 for LiveSupport&nbsp;-&nbsp;htmlUI&nbsp;module by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
