<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>LiveSupport&amp;nbsp;-&amp;nbsp;htmlUI&amp;nbsp;module: SmartyStatic_example.php Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">var</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">html</a></div>
<h1>SmartyStatic_example.php</h1><a href="SmartyStatic__example_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 &lt;?php
00011 require_once 'HTML/QuickForm.php';
00012 require_once 'HTML/QuickForm/Renderer/ArraySmarty.php';
00013 <span class="comment">// fix this if your Smarty is somewhere else</span>
00014 require_once 'Smarty/libs/Smarty.class.php';
00015 
00016 <span class="comment">// Form name will be used to find the placeholders.</span>
00017 
<a name="l00018"></a><a class="code" href="SmartyStatic__example_8php.html#a0">00018</a> <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a> = <span class="keyword">new</span> HTML_QuickForm('form', 'POST');
00019 
00020 <span class="comment">// Fills with some defaults values</span>
00021 
00022 <a class="code" href="SmartyStatic__example_8php.html#a1">$defaultValues</a>['company']  = 'Mamasam';
00023 <a class="code" href="SmartyStatic__example_8php.html#a1">$defaultValues</a>['country']  = array();
00024 <a class="code" href="SmartyStatic__example_8php.html#a1">$defaultValues</a>['name']     = array('first'=&gt;'Bertrand', 'last'=&gt;'Mansion');
<a name="l00025"></a><a class="code" href="SmartyStatic__example_8php.html#a1">00025</a> <a class="code" href="SmartyStatic__example_8php.html#a1">$defaultValues</a>['phone']    = array('513', '123', '4567');
00026 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;setDefaults($defaultValues);
00027 
00028 <span class="comment">// Hidden</span>
00029 
00030 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addElement('hidden', 'session', '1234567890');
00031 
00032 <span class="comment">// Personal information</span>
00033 
00034 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addElement('header', 'personal', 'Personal Information');
00035 
00036 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addElement('hidden', 'ihidTest', 'hiddenField');
00037 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addElement('text', 'email', 'Your email:');
00038 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addElement('password', 'pass', array('Your password:', 'note'=&gt;'Please, choose a 8-10 characters password.'), 'size=10');
00039 <a class="code" href="SmartyDynamic__example_8php.html#a4">$name</a>['last'] = &amp;HTML_QuickForm::createElement('text', 'first', 'First', 'size=10');
<a name="l00040"></a><a class="code" href="SmartyStatic__example_8php.html#a2">00040</a> <a class="code" href="SmartyDynamic__example_8php.html#a4">$name</a>['first'] = &amp;HTML_QuickForm::createElement('text', 'last', 'Last', 'size=10');
00041 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addGroup($name, 'name', 'Name:', ',&amp;nbsp;');
<a name="l00042"></a><a class="code" href="SmartyStatic__example_8php.html#a3">00042</a> <a class="code" href="SmartyStatic__example_8php.html#a3">$areaCode</a> = &amp;HTML_QuickForm::createElement('text', '', null,'size=4 maxlength=3');
<a name="l00043"></a><a class="code" href="SmartyStatic__example_8php.html#a4">00043</a> <a class="code" href="SmartyStatic__example_8php.html#a4">$phoneNo1</a> = &amp;HTML_QuickForm::createElement('text', '', null, 'size=4 maxlength=3');
<a name="l00044"></a><a class="code" href="SmartyStatic__example_8php.html#a5">00044</a> <a class="code" href="SmartyStatic__example_8php.html#a5">$phoneNo2</a> = &amp;HTML_QuickForm::createElement('text', '', null, 'size=5 maxlength=4');
00045 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addGroup(array($areaCode, $phoneNo1, $phoneNo2), 'phone', 'Telephone:', <span class="charliteral">'-'</span>);
00046 
00047 <span class="comment">// Company information</span>
00048 
00049 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addElement('header', 'company_info', 'Company Information');
00050 
00051 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addElement('text', 'company', 'Company:', 'size=20');
00052 
00053 <a class="code" href="SmartyStatic__example_8php.html#a6">$str</a>[] = &amp;HTML_QuickForm::createElement('text', '', null, 'size=20');
<a name="l00054"></a><a class="code" href="SmartyStatic__example_8php.html#a6">00054</a> <a class="code" href="SmartyStatic__example_8php.html#a6">$str</a>[] = &amp;HTML_QuickForm::createElement('text', '', null, 'size=20');
00055 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addGroup($str, 'street', 'Street:', '&lt;br /&gt;');
00056 
00057 <a class="code" href="SmartyStatic__example_8php.html#a7">$addr</a>['zip'] = &amp;HTML_QuickForm::createElement('text', 'zip', 'Zip', 'size=6 maxlength=10');
<a name="l00058"></a><a class="code" href="SmartyStatic__example_8php.html#a7">00058</a> <a class="code" href="SmartyStatic__example_8php.html#a7">$addr</a>['city'] = &amp;HTML_QuickForm::createElement('text', 'city', 'City', 'size=15');
00059 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addGroup($addr, 'address', 'Zip, city:');
00060 
<a name="l00061"></a><a class="code" href="SmartyStatic__example_8php.html#a8">00061</a> <a class="code" href="SmartyDynamic__example_8php.html#a1">$select</a> = array('' =&gt; 'Please select...', 'AU' =&gt; 'Australia', 'FR' =&gt; 'France', 'DE' =&gt; 'Germany', 'IT' =&gt; 'Italy');
00062 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addElement('select', 'country', 'Country:', $select);
00063 
00064 <a class="code" href="SmartyDynamic__example_8php.html#a2">$checkbox</a>[] = &amp;HTML_QuickForm::createElement('checkbox', <span class="charliteral">'A'</span>, null, <span class="charliteral">'A'</span>);
00065 <a class="code" href="SmartyDynamic__example_8php.html#a2">$checkbox</a>[] = &amp;HTML_QuickForm::createElement('checkbox', <span class="charliteral">'B'</span>, null, <span class="charliteral">'B'</span>);
00066 <a class="code" href="SmartyDynamic__example_8php.html#a2">$checkbox</a>[] = &amp;HTML_QuickForm::createElement('checkbox', <span class="charliteral">'C'</span>, null, <span class="charliteral">'C'</span>);
<a name="l00067"></a><a class="code" href="SmartyStatic__example_8php.html#a9">00067</a> <a class="code" href="SmartyDynamic__example_8php.html#a2">$checkbox</a>[] = &amp;HTML_QuickForm::createElement('checkbox', <span class="charliteral">'D'</span>, null, <span class="charliteral">'D'</span>);
00068 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addGroup($checkbox, 'destination', 'Destination:', array('&amp;nbsp;', '&lt;br /&gt;'));
00069 
00070 <span class="comment">// Other elements</span>
00071 
00072 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addElement('checkbox', 'news', '', <span class="stringliteral">" Check this box if you don't want to receive our newsletter."</span>);
00073 
00074 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addElement('reset', 'reset', 'Reset');
00075 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addElement('submit', 'submit', 'Register');
00076 
00077 <span class="comment">// Adds some validation rules</span>
00078 
00079 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addRule('email', 'Email address is required', 'required');
00080 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addGroupRule('name', 'Name is required', 'required');
00081 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addRule('pass', 'Password must be between 8 to 10 characters', 'rangelength', array(8, 10));
00082 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addRule('country', 'Country is a required field', 'required');
00083 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addGroupRule('destination', 'Please check at least two boxes', 'required', null, 2);
00084 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addGroupRule('phone', 'Please fill all phone fields', 'required');
00085 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addGroupRule('phone', 'Values must be numeric', 'numeric');
00086 
00087 <a class="code" href="SmartyStatic__example_8php.html#a10">$AddrRules</a>['zip'][0] = array('Zip code is required', 'required');
00088 <a class="code" href="SmartyStatic__example_8php.html#a10">$AddrRules</a>['zip'][1] = array('Zip code is numeric only', 'numeric');
00089 <a class="code" href="SmartyStatic__example_8php.html#a10">$AddrRules</a>['city'][0] = array('City is required', 'required');
<a name="l00090"></a><a class="code" href="SmartyStatic__example_8php.html#a10">00090</a> <a class="code" href="SmartyStatic__example_8php.html#a10">$AddrRules</a>['city'][1] = array('City is letters only', 'lettersonly');
00091 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;addGroupRule('address', $AddrRules);
00092 
00093 <span class="comment">// Tries to validate the form</span>
00094 <span class="keywordflow">if</span> ($form-&gt;validate()) {
00095     <span class="comment">// Form is validated, then freezes the data</span>
00096     <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;freeze();
00097 }
00098 
00099 <span class="comment">// setup a template object</span>
<a name="l00100"></a><a class="code" href="SmartyStatic__example_8php.html#a11">00100</a> <a class="code" href="SmartyDynamic__example_8php.html#a6">$tpl</a> =&amp; <span class="keyword">new</span> Smarty;
<a name="l00101"></a><a class="code" href="SmartyStatic__example_8php.html#a12">00101</a> <a class="code" href="SmartyDynamic__example_8php.html#a6">$tpl</a>-&gt;template_dir = './templates';
<a name="l00102"></a><a class="code" href="SmartyStatic__example_8php.html#a13">00102</a> <a class="code" href="SmartyDynamic__example_8php.html#a6">$tpl</a>-&gt;compile_dir  = './templates_c';
00103 
<a name="l00104"></a><a class="code" href="SmartyStatic__example_8php.html#a14">00104</a> <a class="code" href="SmartyDynamic__example_8php.html#a5">$renderer</a> =&amp; <span class="keyword">new</span> HTML_QuickForm_Renderer_ArraySmarty($tpl, <span class="keyword">true</span>);
00105 
00106 <a class="code" href="SmartyDynamic__example_8php.html#a5">$renderer</a>-&gt;setRequiredTemplate(
00107    '{<span class="keywordflow">if</span> $error}
00108         &lt;font color=<span class="stringliteral">"red"</span>&gt;{$label|upper}&lt;/font&gt;
00109     {<span class="keywordflow">else</span>}
00110         {$label}
00111         {<span class="keywordflow">if</span> $required}
00112             &lt;font color=<span class="stringliteral">"red"</span> size=<span class="stringliteral">"1"</span>&gt;*&lt;/font&gt;
00113         {/<span class="keywordflow">if</span>}
00114     {/<span class="keywordflow">if</span>}'
00115     );
00116 
00117 <a class="code" href="SmartyDynamic__example_8php.html#a5">$renderer</a>-&gt;setErrorTemplate(
00118    '{<span class="keywordflow">if</span> $error}
00119         &lt;font color=<span class="stringliteral">"orange"</span> size=<span class="stringliteral">"1"</span>&gt;{$error}&lt;/font&gt;&lt;br /&gt;
00120     {/<span class="keywordflow">if</span>}{$html}'
00121     );
00122 
00123 <a class="code" href="SmartyDynamic__example_8php.html#a0">$form</a>-&gt;accept($renderer);
00124 
00125 <span class="comment">// assign array with form data</span>
00126 <a class="code" href="SmartyDynamic__example_8php.html#a6">$tpl</a>-&gt;assign('form', $renderer-&gt;toArray());
00127 
00128 <span class="comment">// capture the array stucture</span>
00129 ob_start();
00130 print_r($renderer-&gt;toArray());
00131 <a class="code" href="SmartyDynamic__example_8php.html#a6">$tpl</a>-&gt;assign('static_array', ob_get_contents());
00132 ob_end_clean();
00133 
00134 <span class="comment">// render and display the template</span>
00135 <a class="code" href="SmartyDynamic__example_8php.html#a6">$tpl</a>-&gt;display('smarty-<span class="keyword">static</span>.tpl');
00136 
00137 ?&gt;
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jan 12 13:58:47 2005 for LiveSupport&nbsp;-&nbsp;htmlUI&nbsp;module by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
